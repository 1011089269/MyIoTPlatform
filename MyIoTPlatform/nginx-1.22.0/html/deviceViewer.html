<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <title>数据展示</title>

    <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="scripts/deviceManage.js"></script>
    <script type="text/javascript" src="scripts/util.js"></script>
    <script type="text/javascript" src="scripts/userManage.js"></script>

    <link type="text/css" rel="stylesheet" href="css/base.css">
</head>

<body onload="">
    <div class="Flex" id="container">
        <div class="Row Flex">
            <div class="Card"
                style="max-width: 20px; height: 70px; background: url(/images/cloudPlatformIcon.jpeg);    background-size: cover;">
            </div>
            <div class="Card">
                <span class="CardTitle">数据展示</span>
                <button id="LoginOut" class="RowRight" onclick="onLoginActionClick()">双击退出登录</button>
            </div>
        </div>
        <div class="Row Flex">
            <div class="FlexColumn" style="min-width: 200px;     margin-right: 20px;">
                <div class="MenuButton Card" onclick="jump('userCenter.html')">
                    <span class="CardTitle">用户中心</span>
                </div>
                <div class="MenuButton Card" onclick="jump('deviceManage.html')">
                    <span class="CardTitle">设备管理</span>
                </div>
                <div class="MenuButton Card" onclick="jump('deviceViewer.html')">
                    <span class="CardTitle">数据展示</span>
                </div>
                <div class="MenuButton Card" onclick="jump('deviceController.html')">
                    <span class="CardTitle">设备控制</span>
                </div>
                <!-- <div class="MenuButton Card">
                <span class="Bold">设备管理</span>
            </div> -->
            </div>

            <div class="Card">

                <div class="CardTitleInner">数据展示</div>
                <hr class="hr">
                <div class="Row Flex" style="margin-bottom: 0">
                    <div class="inputBox Fill" style="margin-right: 20px;">
                        <span style="margin-right: 10px;">选择设备</span>
                        <select id="setDevice" class="input">
                            <option value="0" selected="selected">设备1</option>
                            <option value="1">设备2</option>
                        </select>
                    </div>
                    <div class="inputBox Fill">
                        <span style="margin-right: 10px;">选择数据源</span>
                        <select id="deviceSource" class="input">
                            <option value="0" selected="selected">实时（来自 MQTT）</option>
                            <option value="1">历史（来自 MongoDB）</option>
                        </select>
                    </div>
                </div>
                <div class="Row Flex" style="margin-bottom: 0">
                    <div class="inputBox Fill" style="margin-right: 20px;">
                        <span style="margin-right: 10px;    padding-top: 10px;">起始时间</span>
                        <input id="txtBeginDeviceTime" type="date" class="input RowRight CardInput"
                            placeholder="请在此输入时间" />
                    </div>
                    <div class="inputBox Fill">
                        <span style="margin-right: 10px; padding-top: 10px;">结束时间</span>
                        <input id="txtEndDeviceTime" type="date" class="input RowRight CardInput"
                            placeholder="请在此输入时间" />
                    </div>
                </div>
                <button id="findData" class="Fill" style="margin-top: 12px;" onclick="findDeviceData()">查看数据</button>
                <pre class="Card" id="historyBox" style="margin:20px 0; padding: 20px;">历史数据</pre>
                <button id="deleteData" class="Fill" style="margin: 0 0 20px 0;"
                    onclick="deleteDeviceAllHistory()">删除该设备所有历史数据</button>

                <div class="CardTitleInner">数据添加</div>
                <hr class="hr">
                <div class="Row Flex" style="margin-bottom: 0">
                    <div class="inputBox Fill">
                        <span style="margin-right: 10px;    padding-top: 10px;">数据</span>
                        <input id="txtDeviceAddData" type="text" class="input RowRight CardInput"
                            placeholder="请在此输入想要添加的数据" />
                    </div>
                </div>
                <button id="deleteData" class="Fill" style="margin: 0 0 20px 0;"
                    onclick="deviceAddData()">提交新的数据</button>
            </div>


        </div>
        <div class="Row Flex">
            <div class="Card">
                <span class="CardTitle">普通用户权限</span>
                <button id="ModifyUserInfo" class="RowRight" onclick="jump('userCenter.html')">修改信息</button>
            </div>
            <div class="Card">
                <span class="CardTitle">管理员权限</span>
                <button id="btnModifyUserInfo" class="RowRight" onclick="onManageUserClick()">用户管理</button>
            </div>
            <div class="Card">
                <span class="CardTitle">开发者权限</span>
                <button id="btnUpdateVersion" class="RowRight" onclick="jump('deviceManage.html')">设备管理</button>
            </div>
        </div>
    </div>
</body>

<style>
    #container {
        padding: 20px;
        flex-direction: column;
    }

    #historyBox {
        overflow-y: auto;
        max-height: 200px;
    }

    #historyBox::-webkit-scrollbar {
        width: 10px;
    }
</style>

<script>
    getAllDevice();
</script>

</html>